galaxy_info:
  author: citronalco
  min_ansible_version: 2.2
  license: GPLv3
  platforms:
    - name: Debian
      versions:
        - 10
  description: |
    Installiert Icinga2 und IcingaWeb2
    Hängt ab von der Rolle exim4-daemon-light

    Die Konfiguration erfolgt durch Variable "icinga2":

    icinga2:
      api: true
      icingaweb2: true
      userliste:
        - user: username1
          pw: passwort1
          email: username1@foobar.com
        - user: username2
          pw: passwort2
        - email: beispiel@bar.baz

     api: Icinga2-API ein- (=true) oder ausschalten (=false). Standard: false
     Nur Rechte für Monitoring, kein Anlegen/Ändern/Löschen von Objekten u.ä. erlaubt.

     icingaweb2: IcingaWeb2-Weboberfläche ein- (=true) oder ausschalten (=false). Standard: false

     userliste: Enthält eine Liste mit Benutzern. Ein Benutzer muss Benutzername und Passwort und/oder E-Mailadresse haben.
     Wenn die Icinga2-API und/oder IcingaWeb2 eingeschaltet ist, dann haben alle in "userliste" mit Benutzername ("user") und Passwort ("pw") angebenen Benutzer darauf Zugriff.

     An alle in "userliste" angegebenen E-Mail-Adressen ("email") versendet Icinga2 Notifications.
     Dazu ist ein MTA nötig, der die E-Mails lokal annimmt und an einen SMTP-Server weiterleitet, z.B. die Rolle exim4-daemon-light.

dependencies:
  - role: exim4-daemon-light
