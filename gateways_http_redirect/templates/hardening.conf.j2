# {{ ansible_managed }}

server_tokens off;
client_max_body_size 32m;
client_body_buffer_size 1m;
large_client_header_buffers 4 8k;

proxy_connect_timeout 300;
proxy_send_timeout 300;
proxy_read_timeout 300;

proxy_buffer_size 32k;
proxy_buffers 8 16k;
proxy_busy_buffers_size 64k;
proxy_temp_file_write_size 64k;

real_ip_header X-Forwarded-For;
set_real_ip_from 172.16.0.0/12;

# Security
proxy_cookie_path / "/; SameSite=Strict; HttpOnly; Secure";
#proxy_cookie_path / "/; SameSite=Strict; Secure";

add_header X-Content-Type-Options nosniff;
add_header X-Frame-Options SAMEORIGIN;
add_header X-XSS-Protection "1; mode=block";
